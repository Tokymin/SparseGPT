运行增强版 SparseGPT (Budget方法, 目标3.0bit)...
/media/user/data3/toky/CondaEnvs/SparseGPT/lib/python3.10/site-packages/huggingface_hub/file_download.py:945: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Using device: cuda
Starting sequential pruning & quantization ...
Ready for layer-wise processing.
Processing layer 0, component self_attn.k_proj
Pruning with SparseGPT ...

[layer0.self_attn.k_proj] 计算多维度重要性分数...
[layer0.self_attn.k_proj] 分配量化比特数...
[layer0.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.k_proj] 时间: 10.38s | 误差: 54305.2031
Processing layer 0, component self_attn.v_proj
Pruning with SparseGPT ...

[layer0.self_attn.v_proj] 计算多维度重要性分数...
[layer0.self_attn.v_proj] 分配量化比特数...
[layer0.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.v_proj] 时间: 9.73s | 误差: 1761.9504
Processing layer 0, component self_attn.q_proj
Pruning with SparseGPT ...

[layer0.self_attn.q_proj] 计算多维度重要性分数...
[layer0.self_attn.q_proj] 分配量化比特数...
[layer0.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.q_proj] 时间: 9.97s | 误差: 53373.2461
Processing layer 0, component self_attn.out_proj
Pruning with SparseGPT ...

[layer0.self_attn.out_proj] 计算多维度重要性分数...
[layer0.self_attn.out_proj] 分配量化比特数...
[layer0.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.out_proj] 时间: 10.24s | 误差: 22.5923
Processing layer 0, component fc1
Pruning with SparseGPT ...

[layer0.fc1] 计算多维度重要性分数...
[layer0.fc1] 分配量化比特数...
[layer0.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.fc1] 时间: 9.83s | 误差: 7312.2974
Processing layer 0, component fc2
Pruning with SparseGPT ...

[layer0.fc2] 计算多维度重要性分数...
[layer0.fc2] 分配量化比特数...
[layer0.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer0.fc2] 时间: 40.15s | 误差: 114.5998
Processing layer 1, component self_attn.k_proj
Pruning with SparseGPT ...

[layer1.self_attn.k_proj] 计算多维度重要性分数...
[layer1.self_attn.k_proj] 分配量化比特数...
[layer1.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.k_proj] 时间: 10.28s | 误差: 40949.7227
Processing layer 1, component self_attn.v_proj
Pruning with SparseGPT ...

[layer1.self_attn.v_proj] 计算多维度重要性分数...
[layer1.self_attn.v_proj] 分配量化比特数...
[layer1.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.v_proj] 时间: 9.86s | 误差: 2109.5591
Processing layer 1, component self_attn.q_proj
Pruning with SparseGPT ...

[layer1.self_attn.q_proj] 计算多维度重要性分数...
[layer1.self_attn.q_proj] 分配量化比特数...
[layer1.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.q_proj] 时间: 10.22s | 误差: 18085.5781
Processing layer 1, component self_attn.out_proj
Pruning with SparseGPT ...

[layer1.self_attn.out_proj] 计算多维度重要性分数...
[layer1.self_attn.out_proj] 分配量化比特数...
[layer1.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.out_proj] 时间: 9.86s | 误差: 15.5542
Processing layer 1, component fc1
Pruning with SparseGPT ...

[layer1.fc1] 计算多维度重要性分数...
[layer1.fc1] 分配量化比特数...
[layer1.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.fc1] 时间: 9.56s | 误差: 20654.6328
Processing layer 1, component fc2
Pruning with SparseGPT ...

[layer1.fc2] 计算多维度重要性分数...
[layer1.fc2] 分配量化比特数...
[layer1.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer1.fc2] 时间: 39.44s | 误差: 47.3815
Processing layer 2, component self_attn.k_proj
Pruning with SparseGPT ...

[layer2.self_attn.k_proj] 计算多维度重要性分数...
[layer2.self_attn.k_proj] 分配量化比特数...
[layer2.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.k_proj] 时间: 10.13s | 误差: 59845.1836
Processing layer 2, component self_attn.v_proj
Pruning with SparseGPT ...

[layer2.self_attn.v_proj] 计算多维度重要性分数...
[layer2.self_attn.v_proj] 分配量化比特数...
[layer2.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.v_proj] 时间: 9.82s | 误差: 5204.0508
Processing layer 2, component self_attn.q_proj
Pruning with SparseGPT ...

[layer2.self_attn.q_proj] 计算多维度重要性分数...
[layer2.self_attn.q_proj] 分配量化比特数...
[layer2.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.q_proj] 时间: 9.96s | 误差: 53441.5977
Processing layer 2, component self_attn.out_proj
Pruning with SparseGPT ...

[layer2.self_attn.out_proj] 计算多维度重要性分数...
[layer2.self_attn.out_proj] 分配量化比特数...
[layer2.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.out_proj] 时间: 10.09s | 误差: 29.2570
Processing layer 2, component fc1
Pruning with SparseGPT ...

[layer2.fc1] 计算多维度重要性分数...
[layer2.fc1] 分配量化比特数...
[layer2.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.fc1] 时间: 9.86s | 误差: 17007.8516
Processing layer 2, component fc2
Pruning with SparseGPT ...

[layer2.fc2] 计算多维度重要性分数...
[layer2.fc2] 分配量化比特数...
[layer2.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer2.fc2] 时间: 39.87s | 误差: 49.1151
Processing layer 3, component self_attn.k_proj
Pruning with SparseGPT ...

[layer3.self_attn.k_proj] 计算多维度重要性分数...
[layer3.self_attn.k_proj] 分配量化比特数...
[layer3.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.k_proj] 时间: 9.88s | 误差: 54115.9141
Processing layer 3, component self_attn.v_proj
Pruning with SparseGPT ...

[layer3.self_attn.v_proj] 计算多维度重要性分数...
[layer3.self_attn.v_proj] 分配量化比特数...
[layer3.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.v_proj] 时间: 9.66s | 误差: 6858.9629
Processing layer 3, component self_attn.q_proj
Pruning with SparseGPT ...

[layer3.self_attn.q_proj] 计算多维度重要性分数...
[layer3.self_attn.q_proj] 分配量化比特数...
[layer3.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.q_proj] 时间: 9.83s | 误差: 52747.6172
Processing layer 3, component self_attn.out_proj
Pruning with SparseGPT ...

[layer3.self_attn.out_proj] 计算多维度重要性分数...
[layer3.self_attn.out_proj] 分配量化比特数...
[layer3.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.out_proj] 时间: 9.92s | 误差: 36.7348
Processing layer 3, component fc1
Pruning with SparseGPT ...

[layer3.fc1] 计算多维度重要性分数...
[layer3.fc1] 分配量化比特数...
[layer3.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.fc1] 时间: 9.86s | 误差: 10646.3350
Processing layer 3, component fc2
Pruning with SparseGPT ...

[layer3.fc2] 计算多维度重要性分数...
[layer3.fc2] 分配量化比特数...
[layer3.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer3.fc2] 时间: 39.95s | 误差: 11.6963
Processing layer 4, component self_attn.k_proj
Pruning with SparseGPT ...

[layer4.self_attn.k_proj] 计算多维度重要性分数...
[layer4.self_attn.k_proj] 分配量化比特数...
[layer4.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.k_proj] 时间: 10.04s | 误差: 86164.2500
Processing layer 4, component self_attn.v_proj
Pruning with SparseGPT ...

[layer4.self_attn.v_proj] 计算多维度重要性分数...
[layer4.self_attn.v_proj] 分配量化比特数...
[layer4.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.v_proj] 时间: 10.09s | 误差: 8931.9639
Processing layer 4, component self_attn.q_proj
Pruning with SparseGPT ...

[layer4.self_attn.q_proj] 计算多维度重要性分数...
[layer4.self_attn.q_proj] 分配量化比特数...
[layer4.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.q_proj] 时间: 9.82s | 误差: 91335.3906
Processing layer 4, component self_attn.out_proj
Pruning with SparseGPT ...

[layer4.self_attn.out_proj] 计算多维度重要性分数...
[layer4.self_attn.out_proj] 分配量化比特数...
[layer4.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.out_proj] 时间: 9.61s | 误差: 69.9652
Processing layer 4, component fc1
Pruning with SparseGPT ...

[layer4.fc1] 计算多维度重要性分数...
[layer4.fc1] 分配量化比特数...
[layer4.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.fc1] 时间: 9.89s | 误差: 23684.3223
Processing layer 4, component fc2
Pruning with SparseGPT ...

[layer4.fc2] 计算多维度重要性分数...
[layer4.fc2] 分配量化比特数...
[layer4.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer4.fc2] 时间: 39.88s | 误差: 93.3642
Processing layer 5, component self_attn.k_proj
Pruning with SparseGPT ...

[layer5.self_attn.k_proj] 计算多维度重要性分数...
[layer5.self_attn.k_proj] 分配量化比特数...
[layer5.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.k_proj] 时间: 9.82s | 误差: 90529.2812
Processing layer 5, component self_attn.v_proj
Pruning with SparseGPT ...

[layer5.self_attn.v_proj] 计算多维度重要性分数...
[layer5.self_attn.v_proj] 分配量化比特数...
[layer5.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.v_proj] 时间: 10.10s | 误差: 7958.9863
Processing layer 5, component self_attn.q_proj
Pruning with SparseGPT ...

[layer5.self_attn.q_proj] 计算多维度重要性分数...
[layer5.self_attn.q_proj] 分配量化比特数...
[layer5.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.q_proj] 时间: 9.62s | 误差: 104270.6719
Processing layer 5, component self_attn.out_proj
Pruning with SparseGPT ...

[layer5.self_attn.out_proj] 计算多维度重要性分数...
[layer5.self_attn.out_proj] 分配量化比特数...
[layer5.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.out_proj] 时间: 10.23s | 误差: 102.0288
Processing layer 5, component fc1
Pruning with SparseGPT ...

[layer5.fc1] 计算多维度重要性分数...
[layer5.fc1] 分配量化比特数...
[layer5.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.fc1] 时间: 9.42s | 误差: 22712.7695
Processing layer 5, component fc2
Pruning with SparseGPT ...

[layer5.fc2] 计算多维度重要性分数...
[layer5.fc2] 分配量化比特数...
[layer5.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer5.fc2] 时间: 39.56s | 误差: 179.3947
Processing layer 6, component self_attn.k_proj
Pruning with SparseGPT ...

[layer6.self_attn.k_proj] 计算多维度重要性分数...
[layer6.self_attn.k_proj] 分配量化比特数...
[layer6.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.k_proj] 时间: 9.86s | 误差: 93603.7500
Processing layer 6, component self_attn.v_proj
Pruning with SparseGPT ...

[layer6.self_attn.v_proj] 计算多维度重要性分数...
[layer6.self_attn.v_proj] 分配量化比特数...
[layer6.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.v_proj] 时间: 10.12s | 误差: 10312.7148
Processing layer 6, component self_attn.q_proj
Pruning with SparseGPT ...

[layer6.self_attn.q_proj] 计算多维度重要性分数...
[layer6.self_attn.q_proj] 分配量化比特数...
[layer6.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.q_proj] 时间: 7.53s | 误差: 97828.0156
Processing layer 6, component self_attn.out_proj
Pruning with SparseGPT ...

[layer6.self_attn.out_proj] 计算多维度重要性分数...
[layer6.self_attn.out_proj] 分配量化比特数...
[layer6.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.out_proj] 时间: 1.90s | 误差: 136.3615
Processing layer 6, component fc1
Pruning with SparseGPT ...

[layer6.fc1] 计算多维度重要性分数...
[layer6.fc1] 分配量化比特数...
[layer6.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.fc1] 时间: 1.90s | 误差: 21538.5195
Processing layer 6, component fc2
Pruning with SparseGPT ...

[layer6.fc2] 计算多维度重要性分数...
[layer6.fc2] 分配量化比特数...
[layer6.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer6.fc2] 时间: 7.67s | 误差: 198.4773
Processing layer 7, component self_attn.k_proj
Pruning with SparseGPT ...

[layer7.self_attn.k_proj] 计算多维度重要性分数...
[layer7.self_attn.k_proj] 分配量化比特数...
[layer7.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.k_proj] 时间: 1.85s | 误差: 107846.7656
Processing layer 7, component self_attn.v_proj
Pruning with SparseGPT ...

[layer7.self_attn.v_proj] 计算多维度重要性分数...
[layer7.self_attn.v_proj] 分配量化比特数...
[layer7.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.v_proj] 时间: 2.06s | 误差: 11459.3506
Processing layer 7, component self_attn.q_proj
Pruning with SparseGPT ...

[layer7.self_attn.q_proj] 计算多维度重要性分数...
[layer7.self_attn.q_proj] 分配量化比特数...
[layer7.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.q_proj] 时间: 1.82s | 误差: 107126.7656
Processing layer 7, component self_attn.out_proj
Pruning with SparseGPT ...

[layer7.self_attn.out_proj] 计算多维度重要性分数...
[layer7.self_attn.out_proj] 分配量化比特数...
[layer7.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.out_proj] 时间: 1.99s | 误差: 187.2195
Processing layer 7, component fc1
Pruning with SparseGPT ...

[layer7.fc1] 计算多维度重要性分数...
[layer7.fc1] 分配量化比特数...
[layer7.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.fc1] 时间: 1.90s | 误差: 26346.4102
Processing layer 7, component fc2
Pruning with SparseGPT ...

[layer7.fc2] 计算多维度重要性分数...
[layer7.fc2] 分配量化比特数...
[layer7.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer7.fc2] 时间: 7.70s | 误差: 191.6371
Processing layer 8, component self_attn.k_proj
Pruning with SparseGPT ...

[layer8.self_attn.k_proj] 计算多维度重要性分数...
[layer8.self_attn.k_proj] 分配量化比特数...
[layer8.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.k_proj] 时间: 5.88s | 误差: 105930.9688
Processing layer 8, component self_attn.v_proj
Pruning with SparseGPT ...

[layer8.self_attn.v_proj] 计算多维度重要性分数...
[layer8.self_attn.v_proj] 分配量化比特数...
[layer8.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.v_proj] 时间: 10.43s | 误差: 15879.6719
Processing layer 8, component self_attn.q_proj
Pruning with SparseGPT ...

[layer8.self_attn.q_proj] 计算多维度重要性分数...
[layer8.self_attn.q_proj] 分配量化比特数...
[layer8.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.q_proj] 时间: 10.23s | 误差: 118400.5234
Processing layer 8, component self_attn.out_proj
Pruning with SparseGPT ...

[layer8.self_attn.out_proj] 计算多维度重要性分数...
[layer8.self_attn.out_proj] 分配量化比特数...
[layer8.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.out_proj] 时间: 10.20s | 误差: 447.3347
Processing layer 8, component fc1
Pruning with SparseGPT ...

[layer8.fc1] 计算多维度重要性分数...
[layer8.fc1] 分配量化比特数...
[layer8.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.fc1] 时间: 10.24s | 误差: 35447.1055
Processing layer 8, component fc2
Pruning with SparseGPT ...

[layer8.fc2] 计算多维度重要性分数...
[layer8.fc2] 分配量化比特数...
[layer8.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer8.fc2] 时间: 40.86s | 误差: 277.9818
Processing layer 9, component self_attn.k_proj
Pruning with SparseGPT ...

[layer9.self_attn.k_proj] 计算多维度重要性分数...
[layer9.self_attn.k_proj] 分配量化比特数...
[layer9.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.k_proj] 时间: 10.17s | 误差: 117690.7422
Processing layer 9, component self_attn.v_proj
Pruning with SparseGPT ...

[layer9.self_attn.v_proj] 计算多维度重要性分数...
[layer9.self_attn.v_proj] 分配量化比特数...
[layer9.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.v_proj] 时间: 10.31s | 误差: 18172.7012
Processing layer 9, component self_attn.q_proj
Pruning with SparseGPT ...

[layer9.self_attn.q_proj] 计算多维度重要性分数...
[layer9.self_attn.q_proj] 分配量化比特数...
[layer9.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.q_proj] 时间: 10.37s | 误差: 128893.3984
Processing layer 9, component self_attn.out_proj
Pruning with SparseGPT ...

[layer9.self_attn.out_proj] 计算多维度重要性分数...
[layer9.self_attn.out_proj] 分配量化比特数...
[layer9.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.out_proj] 时间: 10.11s | 误差: 1056.5455
Processing layer 9, component fc1
Pruning with SparseGPT ...

[layer9.fc1] 计算多维度重要性分数...
[layer9.fc1] 分配量化比特数...
[layer9.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.fc1] 时间: 10.32s | 误差: 47811.9375
Processing layer 9, component fc2
Pruning with SparseGPT ...

[layer9.fc2] 计算多维度重要性分数...
[layer9.fc2] 分配量化比特数...
[layer9.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer9.fc2] 时间: 40.87s | 误差: 457.9945
Processing layer 10, component self_attn.k_proj
Pruning with SparseGPT ...

[layer10.self_attn.k_proj] 计算多维度重要性分数...
[layer10.self_attn.k_proj] 分配量化比特数...
[layer10.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.k_proj] 时间: 10.16s | 误差: 108546.0781
Processing layer 10, component self_attn.v_proj
Pruning with SparseGPT ...

[layer10.self_attn.v_proj] 计算多维度重要性分数...
[layer10.self_attn.v_proj] 分配量化比特数...
[layer10.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.v_proj] 时间: 10.34s | 误差: 22250.9766
Processing layer 10, component self_attn.q_proj
Pruning with SparseGPT ...

[layer10.self_attn.q_proj] 计算多维度重要性分数...
[layer10.self_attn.q_proj] 分配量化比特数...
[layer10.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.q_proj] 时间: 10.28s | 误差: 106011.9531
Processing layer 10, component self_attn.out_proj
Pruning with SparseGPT ...

[layer10.self_attn.out_proj] 计算多维度重要性分数...
[layer10.self_attn.out_proj] 分配量化比特数...
[layer10.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.out_proj] 时间: 10.20s | 误差: 540.3279
Processing layer 10, component fc1
Pruning with SparseGPT ...

[layer10.fc1] 计算多维度重要性分数...
[layer10.fc1] 分配量化比特数...
[layer10.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.fc1] 时间: 10.22s | 误差: 58674.1562
Processing layer 10, component fc2
Pruning with SparseGPT ...

[layer10.fc2] 计算多维度重要性分数...
[layer10.fc2] 分配量化比特数...
[layer10.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer10.fc2] 时间: 40.94s | 误差: 699.6451
Processing layer 11, component self_attn.k_proj
Pruning with SparseGPT ...

[layer11.self_attn.k_proj] 计算多维度重要性分数...
[layer11.self_attn.k_proj] 分配量化比特数...
[layer11.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.k_proj] 时间: 10.40s | 误差: 103643.8750
Processing layer 11, component self_attn.v_proj
Pruning with SparseGPT ...

[layer11.self_attn.v_proj] 计算多维度重要性分数...
[layer11.self_attn.v_proj] 分配量化比特数...
[layer11.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.v_proj] 时间: 10.25s | 误差: 27297.9609
Processing layer 11, component self_attn.q_proj
Pruning with SparseGPT ...

[layer11.self_attn.q_proj] 计算多维度重要性分数...
[layer11.self_attn.q_proj] 分配量化比特数...
[layer11.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.q_proj] 时间: 10.12s | 误差: 111739.6562
Processing layer 11, component self_attn.out_proj
Pruning with SparseGPT ...

[layer11.self_attn.out_proj] 计算多维度重要性分数...
[layer11.self_attn.out_proj] 分配量化比特数...
[layer11.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.out_proj] 时间: 10.32s | 误差: 1802.4353
Processing layer 11, component fc1
Pruning with SparseGPT ...

[layer11.fc1] 计算多维度重要性分数...
[layer11.fc1] 分配量化比特数...
[layer11.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.fc1] 时间: 10.31s | 误差: 57650.7188
Processing layer 11, component fc2
Pruning with SparseGPT ...

[layer11.fc2] 计算多维度重要性分数...
[layer11.fc2] 分配量化比特数...
[layer11.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer11.fc2] 时间: 40.82s | 误差: 812.2712

================================================================================

============================================================
量化统计摘要 (Quantization Statistics Summary)
============================================================

总通道数: 82944

比特分布:
  2-bit:  69120 通道 (83.33%)
  8-bit:  13824 通道 (16.67%)

平均比特数: 3.000 bits
============================================================

================================================================================

Layer model.decoder.embed_tokens.weight: 0.00% sparse
Layer model.decoder.embed_positions.weight: 0.05% sparse
Layer model.decoder.final_layer_norm.weight: 0.00% sparse
Layer model.decoder.layers.0.self_attn.k_proj.weight: 70.00% sparse
Layer model.decoder.layers.0.self_attn.v_proj.weight: 70.00% sparse
Layer model.decoder.layers.0.self_attn.q_proj.weight: 70.00% sparse
Layer model.decoder.layers.0.self_attn.out_proj.weight: 70.00% sparse
Layer model.decoder.layers.0.self_attn_layer_norm.weight: 0.00% sparse
Layer model.decoder.layers.0.fc1.weight: 70.00% sparse
Layer model.decoder.layers.0.fc2.weight: 70.00% sparse
Total pruning time: 974.35s
Evaluating on wikitext2
Evaluating on wikitext2 ...
Evaluating layer 0
Evaluating layer 1
Evaluating layer 2
Evaluating layer 3
Evaluating layer 4
Evaluating layer 5
Evaluating layer 6
Evaluating layer 7
Reusing dataset ptb_text_only (/home/user/.cache/huggingface/datasets/ptb_text_only/penn_treebank/1.1.0/8d1b97746fb9765d140e569ec5ddd35e20af4d37761f5e1bf357ea0b081f2c1f)
Reusing dataset ptb_text_only (/home/user/.cache/huggingface/datasets/ptb_text_only/penn_treebank/1.1.0/8d1b97746fb9765d140e569ec5ddd35e20af4d37761f5e1bf357ea0b081f2c1f)
Evaluating layer 8
Evaluating layer 9
Evaluating layer 10
Evaluating layer 11
Perplexity on wikitext2: 228.717
Evaluating on ptb
Evaluating on ptb ...
Evaluating layer 0
Evaluating layer 1
Evaluating layer 2
Evaluating layer 3
Evaluating layer 4
Evaluating layer 5
Evaluating layer 6
Evaluating layer 7
Evaluating layer 8
Evaluating layer 9
Evaluating layer 10
Evaluating layer 11
Perplexity on ptb: 268.295
Evaluating on c4
Evaluating on c4 ...
Evaluating layer 0
Evaluating layer 1
Evaluating layer 2
Evaluating layer 3
Evaluating layer 4
Evaluating layer 5
Evaluating layer 6
Evaluating layer 7
Evaluating layer 8
Evaluating layer 9
Evaluating layer 10
Evaluating layer 11
Perplexity on c4: 171.761
完成时间: 2025年 10月 13日 星期一 05:15:19 CST

