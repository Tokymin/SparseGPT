运行增强版 SparseGPT (Budget方法, 目标3.0bit)...
/media/user/data3/toky/CondaEnvs/SparseGPT/lib/python3.10/site-packages/huggingface_hub/file_download.py:945: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Using device: cuda
Starting sequential pruning & quantization ...
Ready for layer-wise processing.
Processing layer 0, component self_attn.k_proj
Pruning with SparseGPT ...

[layer0.self_attn.k_proj] 计算多维度重要性分数...
[layer0.self_attn.k_proj] 分配量化比特数...
[layer0.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.k_proj] 时间: 2.22s | 误差: 13602.1084
Processing layer 0, component self_attn.v_proj
Pruning with SparseGPT ...

[layer0.self_attn.v_proj] 计算多维度重要性分数...
[layer0.self_attn.v_proj] 分配量化比特数...
[layer0.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.v_proj] 时间: 1.88s | 误差: 533.1898
Processing layer 0, component self_attn.q_proj
Pruning with SparseGPT ...

[layer0.self_attn.q_proj] 计算多维度重要性分数...
[layer0.self_attn.q_proj] 分配量化比特数...
[layer0.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.q_proj] 时间: 1.97s | 误差: 13788.3301
Processing layer 0, component self_attn.out_proj
Pruning with SparseGPT ...

[layer0.self_attn.out_proj] 计算多维度重要性分数...
[layer0.self_attn.out_proj] 分配量化比特数...
[layer0.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.self_attn.out_proj] 时间: 2.05s | 误差: 6.2849
Processing layer 0, component fc1
Pruning with SparseGPT ...

[layer0.fc1] 计算多维度重要性分数...
[layer0.fc1] 分配量化比特数...
[layer0.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer0.fc1] 时间: 1.84s | 误差: 2199.3340
Processing layer 0, component fc2
Pruning with SparseGPT ...

[layer0.fc2] 计算多维度重要性分数...
[layer0.fc2] 分配量化比特数...
[layer0.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer0.fc2] 时间: 7.94s | 误差: 34.3660
Processing layer 1, component self_attn.k_proj
Pruning with SparseGPT ...

[layer1.self_attn.k_proj] 计算多维度重要性分数...
[layer1.self_attn.k_proj] 分配量化比特数...
[layer1.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.k_proj] 时间: 7.68s | 误差: 9459.1582
Processing layer 1, component self_attn.v_proj
Pruning with SparseGPT ...

[layer1.self_attn.v_proj] 计算多维度重要性分数...
[layer1.self_attn.v_proj] 分配量化比特数...
[layer1.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.v_proj] 时间: 9.85s | 误差: 624.7463
Processing layer 1, component self_attn.q_proj
Pruning with SparseGPT ...

[layer1.self_attn.q_proj] 计算多维度重要性分数...
[layer1.self_attn.q_proj] 分配量化比特数...
[layer1.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.q_proj] 时间: 9.65s | 误差: 3916.0554
Processing layer 1, component self_attn.out_proj
Pruning with SparseGPT ...

[layer1.self_attn.out_proj] 计算多维度重要性分数...
[layer1.self_attn.out_proj] 分配量化比特数...
[layer1.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.self_attn.out_proj] 时间: 9.81s | 误差: 3.9823
Processing layer 1, component fc1
Pruning with SparseGPT ...

[layer1.fc1] 计算多维度重要性分数...
[layer1.fc1] 分配量化比特数...
[layer1.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer1.fc1] 时间: 9.84s | 误差: 6110.1021
Processing layer 1, component fc2
Pruning with SparseGPT ...

[layer1.fc2] 计算多维度重要性分数...
[layer1.fc2] 分配量化比特数...
[layer1.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer1.fc2] 时间: 38.94s | 误差: 13.3632
Processing layer 2, component self_attn.k_proj
Pruning with SparseGPT ...

[layer2.self_attn.k_proj] 计算多维度重要性分数...
[layer2.self_attn.k_proj] 分配量化比特数...
[layer2.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.k_proj] 时间: 9.83s | 误差: 15455.0312
Processing layer 2, component self_attn.v_proj
Pruning with SparseGPT ...

[layer2.self_attn.v_proj] 计算多维度重要性分数...
[layer2.self_attn.v_proj] 分配量化比特数...
[layer2.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.v_proj] 时间: 9.82s | 误差: 1641.3835
Processing layer 2, component self_attn.q_proj
Pruning with SparseGPT ...

[layer2.self_attn.q_proj] 计算多维度重要性分数...
[layer2.self_attn.q_proj] 分配量化比特数...
[layer2.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.q_proj] 时间: 9.69s | 误差: 13941.3848
Processing layer 2, component self_attn.out_proj
Pruning with SparseGPT ...

[layer2.self_attn.out_proj] 计算多维度重要性分数...
[layer2.self_attn.out_proj] 分配量化比特数...
[layer2.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.self_attn.out_proj] 时间: 9.85s | 误差: 9.4424
Processing layer 2, component fc1
Pruning with SparseGPT ...

[layer2.fc1] 计算多维度重要性分数...
[layer2.fc1] 分配量化比特数...
[layer2.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer2.fc1] 时间: 9.67s | 误差: 4953.6367
Processing layer 2, component fc2
Pruning with SparseGPT ...

[layer2.fc2] 计算多维度重要性分数...
[layer2.fc2] 分配量化比特数...
[layer2.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer2.fc2] 时间: 39.36s | 误差: 9.8814
Processing layer 3, component self_attn.k_proj
Pruning with SparseGPT ...

[layer3.self_attn.k_proj] 计算多维度重要性分数...
[layer3.self_attn.k_proj] 分配量化比特数...
[layer3.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.k_proj] 时间: 9.73s | 误差: 14009.0977
Processing layer 3, component self_attn.v_proj
Pruning with SparseGPT ...

[layer3.self_attn.v_proj] 计算多维度重要性分数...
[layer3.self_attn.v_proj] 分配量化比特数...
[layer3.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.v_proj] 时间: 9.92s | 误差: 2278.5913
Processing layer 3, component self_attn.q_proj
Pruning with SparseGPT ...

[layer3.self_attn.q_proj] 计算多维度重要性分数...
[layer3.self_attn.q_proj] 分配量化比特数...
[layer3.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.q_proj] 时间: 9.88s | 误差: 14027.9062
Processing layer 3, component self_attn.out_proj
Pruning with SparseGPT ...

[layer3.self_attn.out_proj] 计算多维度重要性分数...
[layer3.self_attn.out_proj] 分配量化比特数...
[layer3.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.self_attn.out_proj] 时间: 9.71s | 误差: 16.0007
Processing layer 3, component fc1
Pruning with SparseGPT ...

[layer3.fc1] 计算多维度重要性分数...
[layer3.fc1] 分配量化比特数...
[layer3.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer3.fc1] 时间: 9.99s | 误差: 3018.3625
Processing layer 3, component fc2
Pruning with SparseGPT ...

[layer3.fc2] 计算多维度重要性分数...
[layer3.fc2] 分配量化比特数...
[layer3.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer3.fc2] 时间: 39.17s | 误差: 0.4523
Processing layer 4, component self_attn.k_proj
Pruning with SparseGPT ...

[layer4.self_attn.k_proj] 计算多维度重要性分数...
[layer4.self_attn.k_proj] 分配量化比特数...
[layer4.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.k_proj] 时间: 9.88s | 误差: 26821.8594
Processing layer 4, component self_attn.v_proj
Pruning with SparseGPT ...

[layer4.self_attn.v_proj] 计算多维度重要性分数...
[layer4.self_attn.v_proj] 分配量化比特数...
[layer4.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.v_proj] 时间: 9.82s | 误差: 3107.5715
Processing layer 4, component self_attn.q_proj
Pruning with SparseGPT ...

[layer4.self_attn.q_proj] 计算多维度重要性分数...
[layer4.self_attn.q_proj] 分配量化比特数...
[layer4.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.q_proj] 时间: 9.94s | 误差: 28669.5547
Processing layer 4, component self_attn.out_proj
Pruning with SparseGPT ...

[layer4.self_attn.out_proj] 计算多维度重要性分数...
[layer4.self_attn.out_proj] 分配量化比特数...
[layer4.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.self_attn.out_proj] 时间: 9.72s | 误差: 24.2621
Processing layer 4, component fc1
Pruning with SparseGPT ...

[layer4.fc1] 计算多维度重要性分数...
[layer4.fc1] 分配量化比特数...
[layer4.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer4.fc1] 时间: 9.89s | 误差: 7804.0352
Processing layer 4, component fc2
Pruning with SparseGPT ...

[layer4.fc2] 计算多维度重要性分数...
[layer4.fc2] 分配量化比特数...
[layer4.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer4.fc2] 时间: 39.07s | 误差: 28.5209
Processing layer 5, component self_attn.k_proj
Pruning with SparseGPT ...

[layer5.self_attn.k_proj] 计算多维度重要性分数...
[layer5.self_attn.k_proj] 分配量化比特数...
[layer5.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.k_proj] 时间: 9.98s | 误差: 29103.4453
Processing layer 5, component self_attn.v_proj
Pruning with SparseGPT ...

[layer5.self_attn.v_proj] 计算多维度重要性分数...
[layer5.self_attn.v_proj] 分配量化比特数...
[layer5.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.v_proj] 时间: 9.73s | 误差: 2829.5618
Processing layer 5, component self_attn.q_proj
Pruning with SparseGPT ...

[layer5.self_attn.q_proj] 计算多维度重要性分数...
[layer5.self_attn.q_proj] 分配量化比特数...
[layer5.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.q_proj] 时间: 9.75s | 误差: 34238.0703
Processing layer 5, component self_attn.out_proj
Pruning with SparseGPT ...

[layer5.self_attn.out_proj] 计算多维度重要性分数...
[layer5.self_attn.out_proj] 分配量化比特数...
[layer5.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.self_attn.out_proj] 时间: 9.92s | 误差: 38.5644
Processing layer 5, component fc1
Pruning with SparseGPT ...

[layer5.fc1] 计算多维度重要性分数...
[layer5.fc1] 分配量化比特数...
[layer5.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer5.fc1] 时间: 9.73s | 误差: 7984.8398
Processing layer 5, component fc2
Pruning with SparseGPT ...

[layer5.fc2] 计算多维度重要性分数...
[layer5.fc2] 分配量化比特数...
[layer5.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer5.fc2] 时间: 39.04s | 误差: 68.3823
Processing layer 6, component self_attn.k_proj
Pruning with SparseGPT ...

[layer6.self_attn.k_proj] 计算多维度重要性分数...
[layer6.self_attn.k_proj] 分配量化比特数...
[layer6.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.k_proj] 时间: 9.70s | 误差: 31471.5781
Processing layer 6, component self_attn.v_proj
Pruning with SparseGPT ...

[layer6.self_attn.v_proj] 计算多维度重要性分数...
[layer6.self_attn.v_proj] 分配量化比特数...
[layer6.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.v_proj] 时间: 9.81s | 误差: 3851.5322
Processing layer 6, component self_attn.q_proj
Pruning with SparseGPT ...

[layer6.self_attn.q_proj] 计算多维度重要性分数...
[layer6.self_attn.q_proj] 分配量化比特数...
[layer6.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.q_proj] 时间: 9.83s | 误差: 33285.3750
Processing layer 6, component self_attn.out_proj
Pruning with SparseGPT ...

[layer6.self_attn.out_proj] 计算多维度重要性分数...
[layer6.self_attn.out_proj] 分配量化比特数...
[layer6.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.self_attn.out_proj] 时间: 9.96s | 误差: 49.1539
Processing layer 6, component fc1
Pruning with SparseGPT ...

[layer6.fc1] 计算多维度重要性分数...
[layer6.fc1] 分配量化比特数...
[layer6.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer6.fc1] 时间: 9.71s | 误差: 7928.5146
Processing layer 6, component fc2
Pruning with SparseGPT ...

[layer6.fc2] 计算多维度重要性分数...
[layer6.fc2] 分配量化比特数...
[layer6.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer6.fc2] 时间: 39.13s | 误差: 98.4743
Processing layer 7, component self_attn.k_proj
Pruning with SparseGPT ...

[layer7.self_attn.k_proj] 计算多维度重要性分数...
[layer7.self_attn.k_proj] 分配量化比特数...
[layer7.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.k_proj] 时间: 9.79s | 误差: 38614.6328
Processing layer 7, component self_attn.v_proj
Pruning with SparseGPT ...

[layer7.self_attn.v_proj] 计算多维度重要性分数...
[layer7.self_attn.v_proj] 分配量化比特数...
[layer7.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.v_proj] 时间: 9.81s | 误差: 4478.0024
Processing layer 7, component self_attn.q_proj
Pruning with SparseGPT ...

[layer7.self_attn.q_proj] 计算多维度重要性分数...
[layer7.self_attn.q_proj] 分配量化比特数...
[layer7.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.q_proj] 时间: 9.94s | 误差: 38410.6484
Processing layer 7, component self_attn.out_proj
Pruning with SparseGPT ...

[layer7.self_attn.out_proj] 计算多维度重要性分数...
[layer7.self_attn.out_proj] 分配量化比特数...
[layer7.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.self_attn.out_proj] 时间: 9.71s | 误差: 83.3340
Processing layer 7, component fc1
Pruning with SparseGPT ...

[layer7.fc1] 计算多维度重要性分数...
[layer7.fc1] 分配量化比特数...
[layer7.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer7.fc1] 时间: 9.70s | 误差: 10190.7227
Processing layer 7, component fc2
Pruning with SparseGPT ...

[layer7.fc2] 计算多维度重要性分数...
[layer7.fc2] 分配量化比特数...
[layer7.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer7.fc2] 时间: 39.62s | 误差: 133.9984
Processing layer 8, component self_attn.k_proj
Pruning with SparseGPT ...

[layer8.self_attn.k_proj] 计算多维度重要性分数...
[layer8.self_attn.k_proj] 分配量化比特数...
[layer8.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.k_proj] 时间: 9.88s | 误差: 39459.2344
Processing layer 8, component self_attn.v_proj
Pruning with SparseGPT ...

[layer8.self_attn.v_proj] 计算多维度重要性分数...
[layer8.self_attn.v_proj] 分配量化比特数...
[layer8.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.v_proj] 时间: 9.88s | 误差: 6350.7837
Processing layer 8, component self_attn.q_proj
Pruning with SparseGPT ...

[layer8.self_attn.q_proj] 计算多维度重要性分数...
[layer8.self_attn.q_proj] 分配量化比特数...
[layer8.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.q_proj] 时间: 9.73s | 误差: 43986.8750
Processing layer 8, component self_attn.out_proj
Pruning with SparseGPT ...

[layer8.self_attn.out_proj] 计算多维度重要性分数...
[layer8.self_attn.out_proj] 分配量化比特数...
[layer8.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.self_attn.out_proj] 时间: 9.87s | 误差: 157.8072
Processing layer 8, component fc1
Pruning with SparseGPT ...

[layer8.fc1] 计算多维度重要性分数...
[layer8.fc1] 分配量化比特数...
[layer8.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer8.fc1] 时间: 9.86s | 误差: 14114.5273
Processing layer 8, component fc2
Pruning with SparseGPT ...

[layer8.fc2] 计算多维度重要性分数...
[layer8.fc2] 分配量化比特数...
[layer8.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer8.fc2] 时间: 38.99s | 误差: 220.5615
Processing layer 9, component self_attn.k_proj
Pruning with SparseGPT ...

[layer9.self_attn.k_proj] 计算多维度重要性分数...
[layer9.self_attn.k_proj] 分配量化比特数...
[layer9.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.k_proj] 时间: 9.93s | 误差: 46349.6562
Processing layer 9, component self_attn.v_proj
Pruning with SparseGPT ...

[layer9.self_attn.v_proj] 计算多维度重要性分数...
[layer9.self_attn.v_proj] 分配量化比特数...
[layer9.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.v_proj] 时间: 9.65s | 误差: 7486.4180
Processing layer 9, component self_attn.q_proj
Pruning with SparseGPT ...

[layer9.self_attn.q_proj] 计算多维度重要性分数...
[layer9.self_attn.q_proj] 分配量化比特数...
[layer9.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.q_proj] 时间: 9.64s | 误差: 50326.8828
Processing layer 9, component self_attn.out_proj
Pruning with SparseGPT ...

[layer9.self_attn.out_proj] 计算多维度重要性分数...
[layer9.self_attn.out_proj] 分配量化比特数...
[layer9.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.self_attn.out_proj] 时间: 10.01s | 误差: 274.4813
Processing layer 9, component fc1
Pruning with SparseGPT ...

[layer9.fc1] 计算多维度重要性分数...
[layer9.fc1] 分配量化比特数...
[layer9.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer9.fc1] 时间: 9.74s | 误差: 19358.7969
Processing layer 9, component fc2
Pruning with SparseGPT ...

[layer9.fc2] 计算多维度重要性分数...
[layer9.fc2] 分配量化比特数...
[layer9.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer9.fc2] 时间: 39.04s | 误差: 360.3265
Processing layer 10, component self_attn.k_proj
Pruning with SparseGPT ...

[layer10.self_attn.k_proj] 计算多维度重要性分数...
[layer10.self_attn.k_proj] 分配量化比特数...
[layer10.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.k_proj] 时间: 9.70s | 误差: 43809.5547
Processing layer 10, component self_attn.v_proj
Pruning with SparseGPT ...

[layer10.self_attn.v_proj] 计算多维度重要性分数...
[layer10.self_attn.v_proj] 分配量化比特数...
[layer10.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.v_proj] 时间: 9.78s | 误差: 9331.1621
Processing layer 10, component self_attn.q_proj
Pruning with SparseGPT ...

[layer10.self_attn.q_proj] 计算多维度重要性分数...
[layer10.self_attn.q_proj] 分配量化比特数...
[layer10.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.q_proj] 时间: 9.96s | 误差: 43045.3984
Processing layer 10, component self_attn.out_proj
Pruning with SparseGPT ...

[layer10.self_attn.out_proj] 计算多维度重要性分数...
[layer10.self_attn.out_proj] 分配量化比特数...
[layer10.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.self_attn.out_proj] 时间: 9.66s | 误差: 259.9070
Processing layer 10, component fc1
Pruning with SparseGPT ...

[layer10.fc1] 计算多维度重要性分数...
[layer10.fc1] 分配量化比特数...
[layer10.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer10.fc1] 时间: 9.70s | 误差: 24409.9453
Processing layer 10, component fc2
Pruning with SparseGPT ...

[layer10.fc2] 计算多维度重要性分数...
[layer10.fc2] 分配量化比特数...
[layer10.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer10.fc2] 时间: 39.55s | 误差: 551.6917
Processing layer 11, component self_attn.k_proj
Pruning with SparseGPT ...

[layer11.self_attn.k_proj] 计算多维度重要性分数...
[layer11.self_attn.k_proj] 分配量化比特数...
[layer11.self_attn.k_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.k_proj] 时间: 9.92s | 误差: 43222.8906
Processing layer 11, component self_attn.v_proj
Pruning with SparseGPT ...

[layer11.self_attn.v_proj] 计算多维度重要性分数...
[layer11.self_attn.v_proj] 分配量化比特数...
[layer11.self_attn.v_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.v_proj] 时间: 9.91s | 误差: 11623.5098
Processing layer 11, component self_attn.q_proj
Pruning with SparseGPT ...

[layer11.self_attn.q_proj] 计算多维度重要性分数...
[layer11.self_attn.q_proj] 分配量化比特数...
[layer11.self_attn.q_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.q_proj] 时间: 9.69s | 误差: 46004.3281
Processing layer 11, component self_attn.out_proj
Pruning with SparseGPT ...

[layer11.self_attn.out_proj] 计算多维度重要性分数...
[layer11.self_attn.out_proj] 分配量化比特数...
[layer11.self_attn.out_proj] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.self_attn.out_proj] 时间: 9.88s | 误差: 459.3481
Processing layer 11, component fc1
Pruning with SparseGPT ...

[layer11.fc1] 计算多维度重要性分数...
[layer11.fc1] 分配量化比特数...
[layer11.fc1] 比特分布: 2bit(640通道) 8bit(128通道) | 平均: 3.00 bits
[layer11.fc1] 时间: 9.88s | 误差: 26889.9922
Processing layer 11, component fc2
Pruning with SparseGPT ...

[layer11.fc2] 计算多维度重要性分数...
[layer11.fc2] 分配量化比特数...
[layer11.fc2] 比特分布: 2bit(2560通道) 8bit(512通道) | 平均: 3.00 bits
[layer11.fc2] 时间: 39.06s | 误差: 578.5836

================================================================================

============================================================
量化统计摘要 (Quantization Statistics Summary)
============================================================

总通道数: 82944

比特分布:
  2-bit:  69120 通道 (83.33%)
  8-bit:  13824 通道 (16.67%)

平均比特数: 3.000 bits
============================================================

================================================================================

Layer model.decoder.embed_tokens.weight: 0.00% sparse
Layer model.decoder.embed_positions.weight: 0.05% sparse
Layer model.decoder.final_layer_norm.weight: 0.00% sparse
Layer model.decoder.layers.0.self_attn.k_proj.weight: 50.00% sparse
Layer model.decoder.layers.0.self_attn.v_proj.weight: 50.00% sparse
Layer model.decoder.layers.0.self_attn.q_proj.weight: 50.00% sparse
Layer model.decoder.layers.0.self_attn.out_proj.weight: 50.00% sparse
Layer model.decoder.layers.0.self_attn_layer_norm.weight: 0.00% sparse
Layer model.decoder.layers.0.fc1.weight: 50.00% sparse
Layer model.decoder.layers.0.fc2.weight: 50.00% sparse
Total pruning time: 1002.76s
Evaluating on wikitext2
Evaluating on wikitext2 ...
Evaluating layer 0
Evaluating layer 1
Evaluating layer 2
Evaluating layer 3
Evaluating layer 4
Evaluating layer 5
Evaluating layer 6
Evaluating layer 7
Evaluating layer 8
Evaluating layer 9
Using the latest cached version of the module from /home/user/.cache/huggingface/modules/datasets_modules/datasets/ptb_text_only/8d1b97746fb9765d140e569ec5ddd35e20af4d37761f5e1bf357ea0b081f2c1f (last modified on Fri Sep 12 19:39:52 2025) since it couldn't be found locally at ptb_text_only., or remotely on the Hugging Face Hub.
Reusing dataset ptb_text_only (/home/user/.cache/huggingface/datasets/ptb_text_only/penn_treebank/1.1.0/8d1b97746fb9765d140e569ec5ddd35e20af4d37761f5e1bf357ea0b081f2c1f)
Using the latest cached version of the module from /home/user/.cache/huggingface/modules/datasets_modules/datasets/ptb_text_only/8d1b97746fb9765d140e569ec5ddd35e20af4d37761f5e1bf357ea0b081f2c1f (last modified on Fri Sep 12 19:39:52 2025) since it couldn't be found locally at ptb_text_only., or remotely on the Hugging Face Hub.
Reusing dataset ptb_text_only (/home/user/.cache/huggingface/datasets/ptb_text_only/penn_treebank/1.1.0/8d1b97746fb9765d140e569ec5ddd35e20af4d37761f5e1bf357ea0b081f2c1f)
Evaluating layer 10
Evaluating layer 11
Perplexity on wikitext2: 36.065
Evaluating on ptb
Evaluating on ptb ...
Evaluating layer 0
Evaluating layer 1
Evaluating layer 2
Evaluating layer 3
Evaluating layer 4
Evaluating layer 5
Evaluating layer 6
Evaluating layer 7
Evaluating layer 8
Evaluating layer 9
Evaluating layer 10
Evaluating layer 11
Perplexity on ptb: 56.151
Evaluating on c4
Evaluating on c4 ...
Evaluating layer 0
Evaluating layer 1
Evaluating layer 2
Evaluating layer 3
Evaluating layer 4
Evaluating layer 5
Evaluating layer 6
Evaluating layer 7
Evaluating layer 8
Evaluating layer 9
Evaluating layer 10
Evaluating layer 11
Perplexity on c4: 35.566
完成时间: 2025年 10月 13日 星期一 03:33:30 CST

